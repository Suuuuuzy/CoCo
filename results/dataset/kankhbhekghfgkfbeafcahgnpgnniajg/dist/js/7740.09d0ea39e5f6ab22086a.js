(self.webpackChunknewtab=self.webpackChunknewtab||[]).push([[7740],{6523:e=>{e.exports='<span class="pointer"></span> <input type="hidden" id="{{name}}" name="{{name}}" value="{{value}}" class="input"/> <label class="text">{{text}}</label>'},5301:e=>{e.exports='<div class="setting-main row"> <div class="setting-left col-3"> <ul class="list-inline"> <li id="setting-general" class="active">{{general}}</li> <li id="setting-widgets">{{widgets}}</li> <li id="setting-contact">{{contact}}</li> </ul> <div> <a id="btn-rate" class="btn btn-rate btn-sm"> <svg t="1626316597890" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2177" width="16" height="16"><path d="M956 398.496q-8-23.488-26.496-39.008t-42.496-19.488l-204.992-31.008-92-195.008q-11.008-24-32.992-36.992Q536.032 64 512.032 64t-44.992 12.992q-22.016 12.992-32.992 36.992l-92 195.008-204.992 31.008q-24 4-42.496 19.488t-26.496 39.008-2.496 47.008 22.496 41.504l151.008 154.016-36 218.016q-6.016 40 20 70.496t66.016 30.496q22.016 0 42.016-11.008l180.992-100 180.992 100q20 11.008 42.016 11.008 40 0 66.016-30.496t20-70.496l-36-218.016 151.008-154.016q16.992-18.016 22.496-41.504t-2.496-47.008z" p-id="2178" fill="#ffffff"></path></svg> Rate Us </a> </div> </div> <div id="setting-right" class="setting-right col-9"> <div class="setting-general setting-right-box"> <div class="form-group row"> <label class="col-8 col-form-label">{{theme}}</label> <div class="col-4 text-right"> <select id="theme-type" class="form-control form-control-sm float-right"> <option value="dark">{{dark}}</option> <option value="light">{{light}}</option> </select> </div> </div> <div class="form-group row"> <label class="col-8 col-form-label">{{open_shortcut}}</label> <div class="col-4 text-right"> <select id="open-shortcut" class="form-control form-control-sm float-right"> <option value="newtab">{{newtab}}</option> <option value="self">{{self}}</option> </select> </div> </div> <div class="form-group row"> <label class="col-8 col-form-label">{{search_engine}}</label> <div class="col-4 text-right"> <select id="search-engine" class="form-control form-control-sm float-right"> </select> </div> </div> <div class="form-group row"> <label class="col-8 col-form-label">{{right_click_search}}</label> <div class="col-4 text-right"> <select id="right-click-search" class="form-control form-control-sm float-right"> </select> </div> </div> <div class="form-group row"> <label class="col-8 col-form-label">{{page_style}}</label> <div class="col-4 text-right"> <select id="page-style" class="form-control form-control-sm float-right"> <option value="default">{{page_style_default}}</option> <option value="full">{{page_style_full}}</option> <option value="circle">{{page_style_circle}}</option> </select> </div> </div> <div class="form-group row"> <label class="col-8">{{show_wallpaper}}</label> <div class="col-4 text-right"> <div id="show-wallpaper" class="switch-box d-inline-block align-middle"></div> </div> </div> <div class="form-group row"> <label class="col-8">{{search_round_radius}}</label> <div class="col-4 text-right"> <div id="widget-search-round-radius" class="switch-box d-inline-block align-middle"></div> </div> </div> <div class="form-group row search-box-focus"> <label class="col-8">{{search_focus}}</label> <div class="col-4 text-right"> <div id="widget-search-focus" class="switch-box d-inline-block align-middle"></div> </div> </div> </div> <div class="setting-widgets setting-right-box d-none"> <div class="form-group row"> <label class="col-8">{{search}}</label> <div class="col-4 text-right"> <div id="widget-search" class="switch-box d-inline-block align-middle"></div> </div> </div> <div class="form-group row"> <label class="col-8">{{launchers}}</label> <div class="col-4 text-right"> <div id="widget-launchers" class="switch-box d-inline-block align-middle"></div> </div> </div> <div class="form-group row"> <label class="col-8">{{wallpaper}}</label> <div class="col-4 text-right"> <div id="widget-wallpaper" class="switch-box d-inline-block align-middle"></div> </div> </div> <div class="form-group row"> <label class="col-8">{{random_wallpaper}}</label> <div class="col-4 text-right"> <div id="widget-wallpaper-random" class="switch-box d-inline-block align-middle"></div> </div> </div> <div class="form-group row"> <label class="col-8">{{apps}}</label> <div class="col-4 text-right"> <div id="widget-apps" class="switch-box d-inline-block align-middle"></div> </div> </div> <div class="form-group row"> <label class="col-8">{{multi_desktop}}</label> <div class="col-4 text-right"> <div id="widget-desktop" class="switch-box d-inline-block align-middle"></div> </div> </div> <div class="form-group row"> <label class="col-8">{{add_widgets}}</label> <div class="col-4 text-right"> <div id="widget-widgets" class="switch-box d-inline-block align-middle"></div> </div> </div> </div> <div class="setting-contact setting-right-box d-none"> <form class="contact-form"> <div class="form-group"> <label>Name:</label> <input type="text" id="name" name="name" autocomplete="off" required="required" class="form-control form-control-sm"> </div> <div class="form-group"> <label>Email:</label> <input type="text" id="email" name="email" autocomplete="off" required="required" class="form-control form-control-sm"> </div> <div class="form-group"> <label>Subject:</label> <input type="text" id="subject" name="subject" autocomplete="off" required="required" class="form-control form-control-sm"> </div> <div class="form-group"> <label>Message:</label> <textarea type="text" id="message" name="message" rows="3" autocomplete="off" required="required" class="form-control form-control-sm"></textarea> </div> <div class="form-group text-right mt-4"> <input type="button" value="{{cancel}}" class="btn btn-cancel btn-sm btn-light"> <input type="submit" value="{{send}}" class="btn btn-submit btn-sm btn-info"/> </div> </form> </div> </div> </div>'},8280:(e,t,l)=>{"use strict";l.d(t,{r:()=>s}),l(8051);var i=l(9755),a=l.n(i);class s{constructor(e={}){this.options={container:null,template:l(6523),name:"",value:[1,0],text:["On","Off"],activeColor:"#808080",inactiveColor:"#6bde5d",status:!0,onChange:e=>{},callback:(e,t,l)=>{}},this.options=Object.assign(this.options,e);let t=this.options.template;t=t.replace(/{{text}}/,""),t=t.replace(/{{name}}/g,this.options.name),this.elView=a()(t),this.container=this.options.container,this.container.append(this.elView),this.elPointer=this.container.find(".pointer"),this.elInput=this.container.find(".input"),this.elText=this.container.find(".text"),this.status=this.options.status,this.container.on("click",(e=>{this.toggle()})),this.status?this.on():this.off()}toggle(){this.status?this.off():this.on(),this.options.onChange(this.status)}on(){this.status=!0,this.elPointer.css({marginLeft:"34px"}),this.options.container.css({backgroundColor:this.options.inactiveColor,borderColor:this.options.inactiveColor}),this.elText.css({left:"0px"});let e=this.options.value[0],t=this.options.text[0];this.elText.text(t),this.elInput.val(e),this.options.callback(this.status,e,t)}off(){this.status=!1,this.elPointer.css({marginLeft:"0px"}),this.options.container.css({backgroundColor:this.options.activeColor,borderColor:this.options.activeColor}),this.elText.css({left:"20px"});let e=this.options.value[1],t=this.options.text[1];this.elText.text(t),this.elInput.val(e),this.options.callback(this.status,e,t)}}},7740:(e,t,l)=>{"use strict";l.r(t),l.d(t,{Setting:()=>p});var i=l(8051),a=l(5996),s=l(9405),n=l(1961),o=l(6327),c=l(9755),r=l.n(c),d=l(8280),g=l(4371),h=l(2485);class p extends a.Z{constructor(){super(),this.popup=null,this.elSettingBox=null,this.elThemeType=null,this.elOpenShortcut=null,this.elSearchEngine=null,this.elPageStyle=null}init(){let e=l(5301);e=e.replace(/{{general}}/g,i.X.locale.get("general")),e=e.replace(/{{theme}}/g,i.X.locale.get("theme")),e=e.replace(/{{light}}/g,i.X.locale.get("light")),e=e.replace(/{{dark}}/g,i.X.locale.get("dark")),e=e.replace(/{{open_shortcut}}/g,i.X.locale.get("open_shortcut")),e=e.replace(/{{newtab}}/g,i.X.locale.get("newtab")),e=e.replace(/{{self}}/g,i.X.locale.get("self")),e=e.replace(/{{search_engine}}/g,i.X.locale.get("search_engine")),e=e.replace(/{{right_click_search}}/g,i.X.locale.get("right_click_search")),e=e.replace(/{{page_style}}/g,i.X.locale.get("page_style")),e=e.replace(/{{page_style_default}}/g,i.X.locale.get("page_style_default")),e=e.replace(/{{page_style_full}}/g,i.X.locale.get("page_style_full")),e=e.replace(/{{page_style_circle}}/g,i.X.locale.get("page_style_circle")),e=e.replace(/{{show_wallpaper}}/g,i.X.locale.get("show_wallpaper")),e=e.replace(/{{search_round_radius}}/g,i.X.locale.get("search_round_radius")),e=e.replace(/{{search_focus}}/g,i.X.locale.get("search_focus")),e=e.replace(/{{general}}/g,i.X.locale.get("general")),e=e.replace(/{{widgets}}/g,i.X.locale.get("widgets")),e=e.replace(/{{search}}/g,i.X.locale.get("search")),e=e.replace(/{{multi_desktop}}/g,i.X.locale.get("multi_desktop")),e=e.replace(/{{launchers}}/g,i.X.locale.get("launchers")),e=e.replace(/{{wallpaper}}/g,i.X.locale.get("wallpaper")),e=e.replace(/{{random_wallpaper}}/g,i.X.locale.get("random_wallpaper")),e=e.replace(/{{apps}}/g,i.X.locale.get("apps")),e=e.replace(/{{add_widgets}}/g,i.X.locale.get("add_widget")),e=e.replace(/{{contact}}/g,i.X.locale.get("contact")),e=e.replace(/{{send}}/g,i.X.locale.get("send")),e=e.replace(/{{cancel}}/g,i.X.locale.get("cancel")),this.elSettingBox=r()(e),g.DetectClient.isFirefox()&&this.elSettingBox.find(".search-box-focus").hide(),this.elSettingLeft=this.elSettingBox.find(".setting-left"),this.elSettingRight=this.elSettingBox.find("#setting-right"),this.elThemeType=this.elSettingBox.find("#theme-type"),this.elThemeType.find('option[value="'+i.X.setting.theme+'"]').attr("selected",!0),this.elThemeType.on("change",(()=>{let e=this.elThemeType.val();for(let e in o.f8)r()("body").removeClass(o.f8[e]+"-theme");r()("body").addClass(e+"-theme"),this.dataSave("theme",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:h.w.SETTING[e.toUpperCase()],eventLabel:"ext"})})),this.elOpenShortcut=this.elSettingBox.find("#open-shortcut"),this.elOpenShortcut.find('option[value="'+i.X.setting.openShortcut+'"]').attr("selected",!0),this.elOpenShortcut.on("change",(()=>{let e=this.elOpenShortcut.val();this.dataSave("openShortcut",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:h.w.SETTING[e.toUpperCase()],eventLabel:"ext"})})),this.elSearchEngine=this.elSettingBox.find("#search-engine");for(let e in i.X.engines){if("dy1"==e)continue;let t=r()('<option value="'+i.X.engines[e].type+'">'+i.X.engines[e].name+"</options>");this.elSearchEngine.append(t)}let t=s.Z.get(o.ZP.defEngine.key)?s.Z.get(o.ZP.defEngine.key):i.X.defEngine;this.elSearchEngine.find('option[value="'+t+'"]').attr("selected",!0),this.elSearchEngine.on("change",(()=>{let e=this.elSearchEngine.val();if(s.Z.set(o.ZP.defEngine.key,e),i.X.defEngine=e,i.X.engines[e]){let t=i.X.engines[e];r()(".search-form").attr("action",t.url),r()(".main-search-input").attr("name",t.query)}})),this.elRightClickSearch=this.elSettingBox.find("#right-click-search");for(let e in i.X.engines){if("dy1"==e)continue;let t=r()('<option value="'+i.X.engines[e].type+'">'+i.X.engines[e].name+"</options>");this.elRightClickSearch.append(t)}this.elRightClickSearch.find('option[value="'+i.X.setting.rightClickSearch.type+'"]').attr("selected",!0),this.elRightClickSearch.on("change",(()=>{let e=this.elRightClickSearch.val();this.dataSave("rightClickSearch",i.X.engines[e])})),this.elPageStyle=this.elSettingBox.find("#page-style"),this.elPageStyle.find('option[value="'+i.X.setting.pageStyle+'"]').attr("selected",!0),this.elPageStyle.on("change",(()=>{let e=this.elPageStyle.val();for(let e in o.k2)r()("#page-item").removeClass(o.k2[e]);r()("#page-item").addClass(e),this.dataSave("pageStyle",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:h.w.SETTING["PAGE_STYLE_"+e.toUpperCase()],eventLabel:"ext"})})),this.initContact(),this.initWidget(),this.elSettingLeft.find("li").on("click",(e=>{const t=r()(e.target);if(t.hasClass("active"))return;this.elSettingLeft.find("li").removeClass("active");let l=t.attr("id");t.addClass("active"),this.elSettingRight.find(".setting-right-box").addClass("d-none"),this.elSettingBox.find("."+l).removeClass("d-none")}))}initContact(){this.elContact=this.elSettingBox.find(".contact-form"),this.elContact.on("submit",(e=>{let t=this.elSettingBox.find("#name").val(),l=this.elSettingBox.find("#email").val(),i=this.elSettingBox.find("#subject").val(),a=this.elSettingBox.find("#message").val(),s=n.Z.get("help","contact");return this.request({method:s.method,url:s.url,params:{name:t,email:l,subject:i,message:a}},(()=>{this.elSettingBox.find("#name").val(""),this.elSettingBox.find("#email").val(""),this.elSettingBox.find("#subject").val(""),this.elSettingBox.find("#message").val(""),alert("Send successfully.")})),!1}))}dataSave(e,t){i.X.setting[e]=t,this.dataSync((()=>{let l=s.Z.getJson(o.ZP.setting.key);return l[e]=t,s.Z.setJson(o.ZP.setting.key,l),!0}),(()=>{if("theme"==e||"pageStyle"==e||"rightClickSearch"==e){let l=s.Z.getJson(o.ZP.setting.key);l[e]=t,s.Z.setJson(o.ZP.setting.key,l)}let l=n.Z.get("common","setting");return this.request({method:l.method,url:l.url,params:{data:i.X.setting,t:"common"}}),!0}))}showWallpaper(e){e?(r()("body").removeClass("no-bg"),r()(".wallpaper").removeClass("d-none")):(r()("body").addClass("no-bg"),r()(".wallpaper").addClass("d-none"))}initWidget(){new d.r({container:this.elSettingRight.find("#show-wallpaper"),status:i.X.setting.showWallpaper,callback:(e,t,l)=>{this.showWallpaper(e)},onChange:e=>{this.dataSave("showWallpaper",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:e?h.w.SETTING.SHOW_WALLPAPER_ON:h.w.SETTING.SHOW_WALLPAPER_OFF,eventLabel:"ext"})}}),new d.r({container:this.elSettingRight.find("#widget-search-round-radius"),status:i.X.setting.searchRound,callback:(e,t,l)=>{e?(r()(".main-search").addClass("round-radius"),r()(".main-search-left").addClass("round-radius"),r()(".main-search-right").addClass("round-radius")):(r()(".main-search").removeClass("round-radius"),r()(".main-search-left").removeClass("round-radius"),r()(".main-search-right").removeClass("round-radius"))},onChange:e=>{this.dataSave("searchRound",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:e?h.w.SETTING.SEARCH_ROUND_ON:h.w.SETTING.SEARCH_ROUND_OFF,eventLabel:"ext"})}}),new d.r({container:this.elSettingRight.find("#widget-search-focus"),status:i.X.setting.searchFocus,callback:(e,t,l)=>{},onChange:e=>{this.dataSave("searchFocus",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:e?h.w.SETTING.SEARCH_FOCUS_ON:h.w.SETTING.SEARCH_FOCUS_OFF,eventLabel:"ext"})}}),new d.r({container:this.elSettingRight.find("#widget-search"),status:i.X.setting.search,callback:(e,t,l)=>{if(e){r()(".search-box").removeClass("invisible");const e=r()("#"+i.X.user.pageActive).find(".main-search-input");e.length>0&&e.get(0).focus()}else r()(".search-box").addClass("invisible")},onChange:e=>{this.dataSave("search",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:e?h.w.SETTING.SEARCH_ON:h.w.SETTING.SEARCH_OFF,eventLabel:"ext"})}}),new d.r({container:this.elSettingRight.find("#widget-launchers"),status:i.X.setting.launchers,callback:(e,t,l)=>{e?r()("#right-menu").removeClass("d-none"):r()("#right-menu").addClass("d-none")},onChange:e=>{this.dataSave("launchers",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:e?h.w.SETTING.LAUNCHERS_ON:h.w.SETTING.LAUNCHERS_OFF,eventLabel:"ext"})}}),new d.r({container:this.elSettingRight.find("#widget-wallpaper"),status:i.X.setting.wallpaper,callback:(e,t,l)=>{e?r()("#upload-wallpaper-btn").removeClass("d-none"):r()("#upload-wallpaper-btn").addClass("d-none")},onChange:e=>{this.dataSave("wallpaper",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:e?h.w.SETTING.WALLPAPER_ON:h.w.SETTING.WALLPAPER_OFF,eventLabel:"ext"})}}),new d.r({container:this.elSettingRight.find("#widget-wallpaper-random"),status:i.X.setting.wallpaperRandom,callback:(e,t,l)=>{e?r()("#random-wallpaper-btn").removeClass("d-none"):r()("#random-wallpaper-btn").addClass("d-none")},onChange:e=>{this.dataSave("wallpaperRandom",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:e?h.w.SETTING.WALLPAPER_RANDOM_ON:h.w.SETTING.WALLPAPER_RANDOM_OFF,eventLabel:"ext"})}}),new d.r({container:this.elSettingRight.find("#widget-apps"),status:i.X.setting.apps,callback:(e,t,l)=>{e?r()(".app-box").removeClass("d-none"):r()(".app-box").addClass("d-none")},onChange:e=>{this.dataSave("apps",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:e?h.w.SETTING.APPS_ON:h.w.SETTING.APPS_OFF,eventLabel:"ext"})}}),new d.r({container:this.elSettingRight.find("#widget-desktop"),status:i.X.setting.desktop,callback:(e,t,l)=>{e?(r()(".carousel-indicators").removeClass("d-none"),r()("#add-desktop").removeClass("d-none")):(r()(".carousel-indicators").addClass("d-none"),r()("#add-desktop").addClass("d-none"))},onChange:e=>{this.dataSave("desktop",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.SETTING.KEY,eventAction:e?h.w.SETTING.DESKTOP_ON:h.w.SETTING.DESKTOP_OFF,eventLabel:"ext"})}}),new d.r({container:this.elSettingRight.find("#widget-widgets"),status:i.X.setting.widgets,callback:(e,t,l)=>{e?r()("#add-widgets").removeClass("d-none"):r()("#add-widgets").addClass("d-none")},onChange:e=>{this.dataSave("widgets",e),(0,h.GA)("send",{hitType:"event",eventCategory:h.w.WIDGETS.KEY,eventAction:e?h.w.SETTING.WIDGETS_ON:h.w.SETTING.WIDGETS_OFF,eventLabel:"ext"})}})}open(){if(this.popup)this.popup.open();else{const{Popup:e}=l(8560);this.popup=new e({width:"600px",height:"400px",content:this.elSettingBox.get(0),overlay:!0,overlayCloseClick:!0,draggable:!1,resizable:!1,contentClass:"setting-popup",headerText:i.X.locale.get("setting"),id:"setting-popup"});const{DetectClient:t}=l(4371);this.elSettingBox.find("#btn-rate").on("click",(()=>{if(i.X.rateUrl){let e=i.X.rateUrl.chrome;t.isFirefox()?e=i.X.rateUrl.firefox:t.isEdgeForChromium()&&(e=i.X.rateUrl.edge),location=e}return!1})),this.elSettingBox.find(".btn-cancel").on("click",(()=>{this.popup.close()}))}}close(){this.popup.close()}}}}]);