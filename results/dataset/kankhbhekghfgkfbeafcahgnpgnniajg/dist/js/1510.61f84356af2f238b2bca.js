(self.webpackChunknewtab=self.webpackChunknewtab||[]).push([[1510],{1510:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Resizable:()=>s});class s{constructor(t={}){this.options={selector:null,minWidth:100,minHeight:100,inElement:null,inElementPadding:0,position:["n","e","s","w","ne","se","sw","nw"],onDown:(t,e)=>{},onMove:(t,e)=>{},onUp:(t,e)=>{},setPosition:!1},this.options=Object.assign(this.options,t),this.supportTouchEvent()?this.eventTypes={down:"touchstart",up:"touchend",move:"touchmove"}:this.eventTypes={down:"mousedown",up:"mouseup",move:"mousemove"},this.inElement=this.options.inElement,this.position=null,this.activeElement=null,this.options.selector?this.initEvents():this.elements=[]}initEvents(){this.elements=[],this.options.selector instanceof Node?this.elements.push(this.options.selector):this.options.selector instanceof NodeList?this.elements=this.options.selector:this.elements=document.querySelectorAll(this.options.selector),this.nodeListToArray(),this.elements.forEach((t=>{this.options.setPosition&&(t.style.position="absolute"),this.options.position.forEach((e=>{const i=document.createElement("div");i.className="resizable-handle resizable-"+e,t.append(i),i.addEventListener(this.eventTypes.down,(i=>(this.activeElement=t,this.position=e,this.downEvent(i))))}))}))}nodeListToArray(){const t=[];this.elements instanceof NodeList&&(this.elements.forEach((e=>{t.push(e)})),this.elements=t)}addElement(t){this.options.position.forEach((e=>{const i=document.createElement("div");i.className="resizable-handle resizable-"+e,t.append(i),i.addEventListener(this.eventTypes.down,(i=>(this.activeElement=t,this.position=e,this.downEvent(i))))})),this.elements.push(t)}downEvent(t){if(1!=t.which)return;if("mousedown"==t.type&&this.cancelDefaultEvent(t),"fixed"!=getComputedStyle(this.activeElement).getPropertyValue("position")){const t=this.activeElement.getBoundingClientRect();this.activeElement.style.position="fixed",this.activeElement.style.left=t.left+"px",this.activeElement.style.top=t.top+"px"}let e=t.touches?t.touches[0]:t;this.clientX=e.clientX,this.clientY=e.clientY,this.offsetX=this.activeElement.offsetLeft,this.offsetY=this.activeElement.offsetTop,this.offsetW=this.activeElement.offsetWidth,this.offsetH=this.activeElement.offsetHeight;let i=this,s=function(t){return i.moveEvent(t)};document.addEventListener(this.eventTypes.move,s);let n=function(t){return i.position=null,document.removeEventListener(i.eventTypes.move,s),document.removeEventListener(i.eventTypes.up,n),i.upEvent(t)};document.addEventListener(this.eventTypes.up,n),this.options.onDown(this.activeElement,t)}moveEvent(t){let e=t.touches?t.touches[0]:t,i=null,s=null;const n=this.activeElement.getBoundingClientRect();let o=n.width,h=n.height,l=null;switch(this.inElement&&(l=this.inElement.getBoundingClientRect()),this.position){case"n":if(l&&e.clientY<=l.top+this.options.inElementPadding)return;if(this.offsetY<e.clientY&&h<this.options.minHeight)return;s=this.offsetY-e.clientY,this.activeElement.style.top=e.clientY+"px",this.activeElement.style.height=this.offsetH+s+"px";break;case"e":if(l&&e.clientX>=l.right-this.options.inElementPadding)return;if(this.offsetX+this.offsetW>e.clientX&&o<this.options.minWidth)return;i=e.clientX-this.offsetX-this.offsetW,this.activeElement.style.width=this.offsetW+i+"px";break;case"s":if(l&&e.clientY>=l.bottom-this.options.inElementPadding)return;if(this.offsetY+this.offsetH>e.clientY&&h<this.options.minHeight)return;s=e.clientY-this.offsetY-this.offsetH,this.activeElement.style.height=this.offsetH+s+"px";break;case"w":if(l&&e.clientX<=l.left+this.options.inElementPadding)return;if(this.offsetX<e.clientX&&o<this.options.minWidth)return;i=this.offsetX-e.clientX,this.activeElement.style.left=e.clientX+"px",this.activeElement.style.width=this.offsetW+i+"px";break;case"ne":s=this.offsetY-e.clientY,i=e.clientX-this.offsetX-this.offsetW,l&&e.clientY<=l.top+this.options.inElementPadding||this.offsetY<e.clientY&&h<this.options.minHeight||(this.activeElement.style.top=e.clientY+"px",this.activeElement.style.height=this.offsetH+s+"px"),l&&e.clientX>=l.right-this.options.inElementPadding||this.offsetX+this.offsetW>e.clientX&&o<this.options.minWidth||(this.activeElement.style.width=this.offsetW+i+"px");break;case"se":s=e.clientY-this.offsetY-this.offsetH,i=e.clientX-this.offsetX-this.offsetW,l&&e.clientY>=l.bottom-this.options.inElementPadding||this.offsetY+this.offsetH>e.clientY&&h<this.options.minHeight||(this.activeElement.style.height=this.offsetH+s+"px"),l&&e.clientX>=l.right-this.options.inElementPadding||this.offsetX+this.offsetW>e.clientX&&o<this.options.minWidth||(this.activeElement.style.width=this.offsetW+i+"px");break;case"sw":s=e.clientY-this.offsetY-this.offsetH,i=this.offsetX-e.clientX,l&&e.clientY>=l.bottom-this.options.inElementPadding||this.offsetY+this.offsetH>e.clientY&&h<this.options.minHeight||(this.activeElement.style.height=this.offsetH+s+"px"),l&&e.clientX<=l.left+this.options.inElementPadding||this.offsetX<e.clientX&&o<this.options.minWidth||(this.activeElement.style.left=e.clientX+"px",this.activeElement.style.width=this.offsetW+i+"px");break;case"nw":s=this.offsetY-e.clientY,i=this.offsetX-e.clientX,l&&e.clientY<=l.top+this.options.inElementPadding||this.offsetY<e.clientY&&h<this.options.minHeight||(this.activeElement.style.top=e.clientY+"px",this.activeElement.style.height=this.offsetH+s+"px"),l&&e.clientX<=l.left+this.options.inElementPadding||this.offsetX<e.clientX&&o<this.options.minWidth||(this.activeElement.style.left=e.clientX+"px",this.activeElement.style.width=this.offsetW+i+"px")}this.options.onMove(this.activeElement,t)}upEvent(t){if("mouseup"==t.type&&this.cancelDefaultEvent(t),this.activeElement.style.position="absolute",this.inElement){const t=this.inElement.getBoundingClientRect();let e=parseInt(this.activeElement.style.left)-t.left,i=parseInt(this.activeElement.style.top)-t.top;"static"!=getComputedStyle(this.inElement).getPropertyValue("position")?(e-=this.inElement.clientLeft,i-=this.inElement.clientTop,this.activeElement.style.left=e+"px",this.activeElement.style.top=i+"px"):this.isStaticPosition(this.inElement)||(this.activeElement.style.left=e+"px",this.activeElement.style.top=i+"px")}this.options.onUp(this.activeElement,t),this.activeElement=null}isStaticPosition(t){return!t.offsetParent||"static"==getComputedStyle(t.offsetParent).getPropertyValue("position")&&this.isStaticPosition(t.offsetParent)}supportTouchEvent(){let t=!0;try{document.createEvent("TouchEvent")}catch(e){t=!1}return t}cancelDefaultEvent(t){t.preventDefault(),t.stopPropagation()}}}}]);